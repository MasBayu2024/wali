<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Dashboard{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    :root{ --sidebar-width:220px; --bg:#f8fafc; --text:#111827; --sidebar-bg:#1f2937; --sidebar-link:#d1d5db; }
    .dark-mode{ --bg:#0b1220; --text:#e6eef8; --sidebar-bg:#0b1220; --sidebar-link:#cbd5e1; }
    body{ display:flex; background:var(--bg); color:var(--text); min-height:100vh; margin:0; }
    .sidebar{ width:var(--sidebar-width); background:var(--sidebar-bg); color:var(--sidebar-link); padding:1rem; position:fixed; height:100vh; }
    .content{ margin-left:var(--sidebar-width); padding:1.25rem; width:calc(100% - var(--sidebar-width)); }
    .nav-link{ color:var(--sidebar-link); text-decoration:none; display:block; padding:.5rem 0; }
    .nav-link:hover{ color:#fff; }
  </style>
</head>
<body id="pageBody">
  {% include 'menu.html' %}
  <div class="content">
    {% block content %}{% endblock %}
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // simple theme toggle (desktop button has id desktopThemeToggle, mobile has mobileThemeToggle)
    const pageBody = document.getElementById('pageBody');
    const THEME_KEY = 'dashboard_theme';
    function applyTheme(t){ if(t==='dark') pageBody.classList.add('dark-mode'); else pageBody.classList.remove('dark-mode'); }
    (function(){ const s = localStorage.getItem(THEME_KEY); applyTheme(s || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')); })();
    function toggleTheme(){ const is = pageBody.classList.contains('dark-mode') ? 'light' : 'dark'; applyTheme(is); localStorage.setItem(THEME_KEY, is); }
    document.addEventListener('click', e=>{ if(e.target.id==='desktopThemeToggle' || e.target.id==='mobileThemeToggle') toggleTheme(); });
  </script>
</body>
</html>
